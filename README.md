# 基于 LangChain4j + Ollama 的轻量级 ReAct 智能体模板

本项目是针对智能体构建的模板工程，基于 LangChain4j + Ollama，提供**轻量级** ReAct（推理-行动-观察） 范式的实现方案，结合工具调用、对话记忆，支持不同交互方式（CLI / HTTP），便于初学者快速构建。

## 模型选择

借由 Ollama 拉取本地模型（如 `deepseek-r1:8b`）。

## 架构设计

项目结合分层架构与领域驱动设计（DDD）。

| 层级       | 包路径   | 核心职责     | 设计特点          |
| ---------- | -------- | ------------ | ----------------- |
| **接口层** | `api`    | 提供交互入口 | 命令模式、MVC模式 |
| **领域层** | `domain` | 实现业务逻辑 | 领域驱动设计      |

| 领域         | 包路径          | 核心职责                               | 设计特点     |
| ------------ | --------------- | -------------------------------------- | ------------ |
| **智能体域** | `domain.agent`  | 协调流程、推理决策、执行工具、观测结果 | ReAct 范式   |
| **提示词域** | `domain.prompt` | 构建提示词                             | 模板方法模式 |
| **工具域**   | `domain.tool`   | 定义、注册、执行工具                   | 注册模式     |

## ReAct 范式

基于 ReAct 范式构建智能体，核心是通过‌交替执行推理（Reasoning）、行动（Acting）和观察（Observation）的循环流程‌以解决模糊问题。

## 对话构建

系统消息首置于对话历史，由 【角色定位】+【回答格式】+【规则约束】+【可用工具】+【环境信息】 五部分组成，提示词基于 Markdown 格式。

用户消息仅由【用户问题】组成。

## 对话历史

通过对话 ID （`conversationId`）区分对话，目前仅支持内存存储对话历史。

## 工具准备

提供工具规范说明，封装工具实现逻辑，动态注册与发现，目前仅提供文件工具与命令行的基础工具。

## 启动流程

1. **AI 模型启动**：启动 Ollama
2. **客户端配置**：编辑 `application.properties` 文件，配置相应参数，并按需调整 `config` 中的配置
3. **项目启动**：运行 `Application.java` 主类，启动 Spring Boot 应用
5. **智能体交互**：通过 CLI / HTTP 接口，与智能体交互，令其执行相关操作

## 参考资料

- LangChain4j 文档：https://docs.langchain4j.info/intro
- 《ReAct：在语言模型中协同推理和行动》：https://arxiv.org/abs/2210.03629
